swagger: '2.0'
info:
  description: Weather requests api
  version: 1.0.0 #API version
  title: Weather requests # API title
  license: #Swagger license info
    name: Apache 2.0
    url: 'http://www.apache.org/licenses/LICENSE-2.0.html'
host: localhost
schemes:
  - http
tags:
  - name: Weather
paths:
  '/getDailyWeatherInfo':
    get:
      tags:
        - Weather
      summary: get daily weather info by city, from startDate to endDate
      description: Returns daily weather info (min temp, max temp, avg temp)
      operationId: getDailyWeatherInfo
      produces:
        - application/json
      parameters:
        - name: city
          in: query
          description: name of city from which you want to get weather info
          required: true
          type: string
        - name: startDate
          in: query
          description: date from which you want to get weather info
          required: true
          type: string
        - name: endDate
          in: query
          description: date to with you want to get weather info
          required: true
          type: string
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/WeatherDailyData' #Response object details
        '400':
          description: Invalid parameters
        '404':
          description: Weather info not found

  '/getSeasonWeatherInfo':
    get:
      tags:
        - Weather
      summary: get season weather info by city, from startDate to endDate
      description: Returns season weather info (min temp, max temp, avg temp)
      operationId: getSeasonWeatherInfo
      produces:
        - application/json
      parameters:
        - name: city
          in: query
          description: name of city from which you want to get weather info
          required: true
          type: string
        - name: startDate
          in: query
          description: date from which you want to get weather info
          required: true
          type: string
        - name: endDate
          in: query
          description: date to with you want to get weather info
          required: true
          type: string
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/WeatherSeasonData' #Response object details
        '400':
          description: Invalid parameters
        '404':
          description: Weather info not found
  '/news/all':
    get:
      tags:
        - News
      summary: get all news by q
      description: returns news by special word
      operationId: getNewsData
      produces:
        - application/json
      parameters:
        - name: q
          in: query
          description: Keywords or phrases to search for in the article title and body
          required: true
          type: string
        - name: page
          in: query
          description: Use this to page through the results
          required: true
          type: integer
        - name: pageSize
          in: query
          description: The number of results to return per page
          required: true
          type: integer
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/NewsData' #Response object details
        '400': #Unsuccessful response code
          description: Invalid request #Unsuccessful response description
        '404': #Unsuccessful response code
          description: Address not found #Unsuccessful response description
definitions:
  WeatherDailyData:
    type: object
    properties:
      data:
        type: array
        items:
          $ref: 'TemperatureDailyInfo'
        description: list of temp daily infos
  TemperatureDailyInfo:
    type: object
    properties:
      date:
        type: string
        description: date of temp
      tavg:
        type: string
        description: avg temp in this date
      tmin:
        type: string
        description: min temp in this date
      tmax:
        type: string
        description: max temp in this date
  WeatherRequest:
    type: object
    properties:
      city:
        type: string
        default: Moscow
      startDate:
        type: string
        default: 2013-01-01
      endDate:
        type: string
        default: 2021-01-01
  TemperatureInfoBySeason:
    type: object
    properties:
      season:
        type: string
      year:
        type: string
      maxTemp:
        type: string
      minTemp:
        type: string
      avgTemp:
        type: string
  WeatherSeasonData:
    type: object
    properties:
      data:
        type: array
        items:
          $ref: 'TemperatureInfoBySeason'
  NewsData:
    type: object
    properties:
      totalResults:
        type: integer
        description: The total number of results available for your request
      articles:
        type: array
        items:
          $ref: 'Article'
        description: articles info
  Article:
    type: object
    properties:
      author:
        type: string
        description: article author
      title:
        type: string
        description: article title
      description:
        type: string
        description: article description
      url:
        type: string
        description: article url
      urlToImage:
        type: string
        description: article url to image
      publishedAt:
        type: string
        description: article published date
      content:
        type: string
        description: article content
      source:
        type: object
        $ref: 'Source'
  Source:
    type: object
    properties:
      id:
        type: string
        description: article source id
      name:
        type: string
        description: article source name
  NewsRequest:
    type: object
    properties:
      q:
        type: string
      page:
        type: integer
      pageSize:
        type: integer

